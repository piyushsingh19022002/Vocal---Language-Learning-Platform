{"ast":null,"code":"var _jsxFileName = \"/Users/piyushsengar/Downloads/LLP-main/client/src/pages/ListeningLesson.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport { getListeningLesson, getAssetUrl } from '../utils/api';\nimport './ListeningPractice.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst formatDuration = seconds => {\n  if (seconds === null || seconds === undefined) {\n    return 'Duration: N/A';\n  }\n  const mins = Math.floor(seconds / 60);\n  const secs = Math.max(0, seconds % 60);\n  return `Duration: ${mins}m ${secs.toString().padStart(2, '0')}s`;\n};\nconst ListeningLesson = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [lesson, setLesson] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  useEffect(() => {\n    const fetchLesson = async () => {\n      try {\n        const data = await getListeningLesson(id);\n        setLesson(data);\n      } catch (err) {\n        setError('Unable to load this lesson right now.');\n        console.error(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchLesson();\n  }, [id]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"listening-page\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"listening-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"listening-hero detail\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"listening-eyebrow\",\n            children: \"Listening Lesson\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: (lesson === null || lesson === void 0 ? void 0 : lesson.title) || 'Loading lesson...'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"listening-subtitle\",\n            children: \"Dive into the audio, follow along with the transcript, and practice shadowing.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"listening-actions\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/listening-practice\",\n            children: \"\\u2190 Back to all lessons\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"listening-state\",\n        children: \"Loading lesson...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }, this), error && !loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"listening-state error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 31\n      }, this), !loading && !error && lesson && /*#__PURE__*/_jsxDEV(\"article\", {\n        className: \"listening-lesson\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"listening-meta\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"listening-level pill\",\n            children: lesson.level\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"listening-duration\",\n            children: formatDuration(lesson.duration)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"listening-player\",\n          children: /*#__PURE__*/_jsxDEV(\"audio\", {\n            controls: true,\n            src: getAssetUrl(lesson.audio),\n            children: \"Your browser does not support the audio element.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"listening-transcript\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Transcript\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }, this), lesson.transcript.split('\\n').map((line, index) => /*#__PURE__*/_jsxDEV(\"p\", {\n            children: line\n          }, `${lesson._id}-line-${index}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n_s(ListeningLesson, \"ASNtu2ins9tS5za52klXvKoUTh8=\", false, function () {\n  return [useParams];\n});\n_c = ListeningLesson;\nexport default ListeningLesson;\nvar _c;\n$RefreshReg$(_c, \"ListeningLesson\");","map":{"version":3,"names":["React","useEffect","useState","Link","useParams","Header","Footer","getListeningLesson","getAssetUrl","jsxDEV","_jsxDEV","formatDuration","seconds","undefined","mins","Math","floor","secs","max","toString","padStart","ListeningLesson","_s","id","lesson","setLesson","loading","setLoading","error","setError","fetchLesson","data","err","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","title","to","level","duration","controls","src","audio","transcript","split","map","line","index","_id","_c","$RefreshReg$"],"sources":["/Users/piyushsengar/Downloads/LLP-main/client/src/pages/ListeningLesson.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport { getListeningLesson, getAssetUrl } from '../utils/api';\nimport './ListeningPractice.css';\n\nconst formatDuration = (seconds) => {\n  if (seconds === null || seconds === undefined) {\n    return 'Duration: N/A';\n  }\n\n  const mins = Math.floor(seconds / 60);\n  const secs = Math.max(0, seconds % 60);\n  return `Duration: ${mins}m ${secs.toString().padStart(2, '0')}s`;\n};\n\nconst ListeningLesson = () => {\n  const { id } = useParams();\n  const [lesson, setLesson] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    const fetchLesson = async () => {\n      try {\n        const data = await getListeningLesson(id);\n        setLesson(data);\n      } catch (err) {\n        setError('Unable to load this lesson right now.');\n        console.error(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchLesson();\n  }, [id]);\n\n  return (\n    <div className=\"listening-page\">\n      <Header />\n      <main className=\"listening-content\">\n        <div className=\"listening-hero detail\">\n          <div>\n            <p className=\"listening-eyebrow\">Listening Lesson</p>\n            <h1>{lesson?.title || 'Loading lesson...'}</h1>\n            <p className=\"listening-subtitle\">\n              Dive into the audio, follow along with the transcript, and practice shadowing.\n            </p>\n          </div>\n          <div className=\"listening-actions\">\n            <Link to=\"/listening-practice\">‚Üê Back to all lessons</Link>\n          </div>\n        </div>\n\n        {loading && <div className=\"listening-state\">Loading lesson...</div>}\n        {error && !loading && <div className=\"listening-state error\">{error}</div>}\n        {!loading && !error && lesson && (\n          <article className=\"listening-lesson\">\n            <div className=\"listening-meta\">\n              <span className=\"listening-level pill\">{lesson.level}</span>\n              <span className=\"listening-duration\">{formatDuration(lesson.duration)}</span>\n            </div>\n\n            <div className=\"listening-player\">\n              <audio controls src={getAssetUrl(lesson.audio)}>\n                Your browser does not support the audio element.\n              </audio>\n            </div>\n\n            <section className=\"listening-transcript\">\n              <h2>Transcript</h2>\n              {lesson.transcript.split('\\n').map((line, index) => (\n                <p key={`${lesson._id}-line-${index}`}>{line}</p>\n              ))}\n            </section>\n          </article>\n        )}\n      </main>\n      <Footer />\n    </div>\n  );\n};\n\nexport default ListeningLesson;\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}